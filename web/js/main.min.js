window['onload']=function(){switch(site){case'wahl':return a7();case'dashboard':return z();case'projektErstellung':return aT();default:return;}};function logout(){$('#logout')['submit']();}function d(e){var f=['<option\x20value=\x220\x22>#1\x20Nicht\x20veröffentlicht</option>','<option\x20value=\x221\x22>#2\x20Projekte\x20können\x20eingereicht\x20werden</option>','<option\x20value=\x222\x22>#3\x20Projekt-Einreichung\x20geschlossen</option>','<option\x20value=\x223\x22>#4\x20Wahl-Interface\x20geöffnet</option>','<option\x20value=\x224\x22>#5\x20Wahlen\x20abgeschlossen</option>'];$('#stageSelect')['append']($(f[e]));for(var g=0x0;g<0x5;g++){if(g==config['Stage']){continue;}$('#stageSelect')['append']($(f[g]));}}function h(){$('#montag')['prop']('checked',config['Montag']);if(config['Stage']!=0x0){$('#montag')['prop']('disabled',!![]);$('#montag')['addClass']('disabled');}$('#dienstag')['prop']('checked',config['Dienstag']);if(config['Stage']!=0x0){$('#dienstag')['prop']('disabled',!![]);$('#dienstag')['addClass']('disabled');}$('#Mittwoch')['prop']('checked',config['Mittwoch']);if(config['Stage']!=0x0){$('#mittwoch')['prop']('disabled',!![]);$('#mittwoch')['addClass']('disabled');}$('#donnerstag')['prop']('checked',config['Donnerstag']);if(config['Stage']!=0x0){$('#donnerstag')['prop']('disabled',!![]);$('#donnerstag')['addClass']('disabled');}$('#freitag')['prop']('checked',config['Freitag']);if(config['Stage']!=0x0){$('#freitag')['prop']('disabled',!![]);$('#freitag')['addClass']('disabled');}}function i(){config['SchuleAmErstenVormittag']=config['SchuleAmErstenVormittag']=='true';$('#firstDaytrue')['prop']('checked',config['SchuleAmErstenVormittag']);if(config['Stage']!=0x0){$('#firstDaytrue')['prop']('disabled',!![]);$('#firstDaytrue')['addClass']('disabled');$('#firstDayfalse')['prop']('disabled',!![]);$('#firstDayfalse')['addClass']('disabled');}}function j(k){console['log']('Creating:\x20projekteTable');$['each'](k[0x0],function(l,m){$('#projekteTable>thead>tr')['append']($('<th>'+l+'</th>'));});$['each'](k,function(n,o){$('#projekteTable>tbody')['append']($('<tr></tr>'));$['each'](k[n],function(p,q){$('#projekteTable>tbody:last-child')['append']($('<td>'+q+'</td>'));});});}function r(s){console['log']('Creating:\x20schuelerTable');$['each'](schueler[0x0],function(t,u){$('#schuelerTable>thead>tr')['append']($('<th>'+t+'</th>'));});$['each'](schueler,function(v,w){$('#schuelerTable>tbody')['append']($('<tr></tr>'));$['each'](schueler[v],function(x,y){$('#schuelerTable>tbody:last-child')['append']($('<td>'+y+'</td>'));});});}function z(){console['log']('Current\x20Configuration:');console['log'](config);console['log'](projekte);console['log'](schueler);d(config['Stage']);$('#inputSchuelerAnzahl')['val'](parseInt(config['Schüleranzahl']));h();i();j(projekte);r(schueler);$('input:checkbox')['on']('click',function(A){A['stopImmediatePropagation']();var B=A['currentTarget']['checked']?![]:!![];A['currentTarget']['checked']=B?![]:B['toString']();});$('input:radio')['on']('click',function(C){C['stopImmediatePropagation']();var D=C['currentTarget']['checked']?![]:!![];C['currentTarget']['checked']=D?![]:D['toString']();});}function E(F){var G=new jsPDF('p','pt');var H=['Nr.','Projekttitel','Stufe'];var I=[];F['forEach'](function(J){I['push']([J['id'],J['name'],J['minKlasse']+'-'+J['maxKlasse']]);});G['autoTable'](H,I,{'tableLineColor':[0x2c,0x3e,0x50],'tableLineWidth':0.75,'styles':{'overflow':'linebreak','lineColor':[0x2c,0x3e,0x50],'lineWidth':0.05},'columnStyles':{0:{'columnWidth':0x19},1:{'columnWidth':0x1c7},2:{'columnWidth':0x23}}});G['output']('dataurlnewwindow');}var K=['primary','success','dark'];function L(M,N,O){var P=M/N;if(P<0.6)return 0x4;var Q=(75.4745*Math['pow'](P,0x4)-223.148*Math['pow'](P,0x3)+246.143*Math['pow'](P,0x2)-119.873*P+21.8101)*O;console['log']('Schüler:\x20'+M+'\x20/\x20Plätze:\x20'+N+'\x20=\x20'+P);console['log']('f('+P+')\x20=\x20'+Q);return Q<0x4?0x4:Q;}function R(S){$('.projektliste>div')['append']($('\x0a\x09\x09<div\x20class=\x22card\x20list-group-item-'+K[Math['floor'](Math['random']()*K['length'])]+'\x20projekt-card\x22\x20id=\x22drag'+S['projektId']+'\x22>\x0a\x09\x09\x09<input\x20\x20type=\x22hidden\x22value=\x22'+S['projektId']+'\x22>\x0a\x09\x09\x09<div\x20class=\x22card-body\x22>\x0a\x09\x09\x09\x09<h5\x20class=\x22card-title\x22>'+S['name']+'</h5>\x0a\x09\x09\x09\x09<a\x20href=\x22#\x22\x20class=\x22btn\x20btn-'+K[Math['floor'](Math['random']()*K['length'])]+'\x22\x20data-toggle=\x22modal\x22\x20data-target=\x22#modal'+S['projektId']+'\x22>Info</a>\x0a\x09\x09\x09</div>\x0a\x09\x09</div>'));}function T(U){$('.modalHolder')['append']($('\x0a\x09<div\x20class=\x22modal\x20fade\x22\x20id=\x22modal'+U['projektId']+'\x22\x20tabindex=\x22-1\x22\x20role=\x22dialog\x22\x20aria-labelledby=\x22modalLabel'+U['projektId']+'\x22\x20aria-hidden=\x22true\x22>\x0a\x09\x09<div\x20class=\x22modal-dialog\x20modal-lg\x22\x20role=\x22document\x22>\x0a\x09\x09\x09<div\x20class=\x22modal-content\x22>\x0a\x09\x09\x09\x09<div\x20class=\x22modal-header\x22>\x0a\x09\x09\x09\x09<h5\x20class=\x22modal-title\x22\x20id=\x22modalLabel'+U['projektId']+'\x22>'+U['name']+'</h5>\x0a\x09\x09\x09\x09\x09<button\x20type=\x22button\x22\x20class=\x22close\x22\x20data-dismiss=\x22modal\x22\x20aria-label=\x22Close\x22>\x0a\x09\x09\x09\x09\x09\x09<span\x20aria-hidden=\x22true\x22>&times;</span>\x0a\x09\x09\x09\x09\x09</button>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22modal-body\x22>\x0a\x09\x09\x09\x09\x09<p>'+U['beschreibung']+'</p>\x0a\x09\x09\x09\x09\x09<p><b>Betreuer:</b>\x20'+U['betreuer']+'</p>\x0a\x09\x09\x09\x09\x09<p><b>Klassenstufe:</b>\x20'+U['minKlasse']+'-'+U['maxKlasse']+'</p>\x0a\x09\x09\x09\x09\x09<p><b>Teilnehmerzahl:</b>\x20'+U['minTeilnehmer']+'-'+U['maxTeilnehmer']+'</p>\x0a\x09\x09\x09\x09\x09<p><b>Kosten/Sonstiges:</b>\x20'+U['sonstiges']+'</p>\x0a\x09\x09\x09\x09\x09<p><b>Vorraussetungen:</b>\x20'+U['vorraussetzungen']+'</p>\x0a\x09\x09\x09\x09\x09<table\x20class=\x22table\x20table-hover\x20table-responsive\x20table-striped\x22>\x0a\x09\x09\x09\x09\x09\x09<thead\x20class=\x22thead-dark\x22>\x0a\x09\x09\x09\x09\x09\x09\x09<tr>\x0a\x09\x09\x09\x09\x09\x09\x09<th\x20scope=\x22col\x22>Zeit</th>\x0a\x09\x09\x09\x09\x09\x09\x09<th\x20>Montag</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<th\x20>Dienstag</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<th\x20>Mittwoch</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<th\x20>Donnerstag</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<th\x20>Freitag\x09</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09</tr>\x0a\x09\x09\x09\x09\x09\x09\x09</thead>\x0a\x09\x09\x09\x09\x09\x09\x09<tbody>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<tr>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<th\x20scope=\x22row\x22>Vormittag</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['moVor']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['diVor']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['miVor']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['doVor']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['frVor']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09</tr>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<tr>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<th\x20scope=\x22row\x22>Mensa-Essen</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['moMensa']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['diMensa']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['miMensa']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['doMensa']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>Nein</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09</tr>\x0a\x09\x09\x09\x09\x09\x09\x09\x09<tr>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<th\x20scope=\x22row\x22>Nachmittag</th>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['moNach']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['diNach']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['miNach']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['doNach']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09<td>'+U['frNach']+'</td>\x0a\x09\x09\x09\x09\x09\x09\x09\x09</tr>\x0a\x09\x09\x09\x09\x09\x09\x09</tbody>\x0a\x09\x09\x09\x09\x09\x09</table>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09\x09<div\x20class=\x22modal-footer\x22>\x0a\x09\x09\x09\x09\x09<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-primary\x22\x20data-dismiss=\x22modal\x22>Close</button>\x0a\x09\x09\x09\x09</div>\x0a\x09\x09\x09</div>\x0a\x09\x09</div>\x0a\x09</div>'));}function V(W){for(var X=0x0;X<W;X++){$('.wahlliste\x20tbody')['append']('<tr\x20id=\x27wahl'+X+'\x27><th\x20scope=\x27row\x27>'+(X+0x1)+'</th><td></td></tr>');}}function Y(){console['log']('counting\x20choosen\x20projekts');var Z=[];for(var a0=0x0;a0<$('.wahlliste\x20tbody>tr')['length'];a0++){if($('#wahl'+a0+'>td')['children']()['length']==0x0){if($('.btn-group')['children']()['length']>0x1){$($('.btn-group')['children']()[0x2])['remove']();}return;}else{Z['push']($($('#wahl'+a0+'>td')['children']()[0x0]));}}if($('.btn-group')['children']()['length']<0x2){$('.btn-group')['append']($('<button\x20class=\x27btn\x20btn-success\x27\x20name=\x27action\x27\x20value=\x27wahl\x27>Wahl\x20abschicken</button>')['on']('click',function(a1){$('.wahlliste>form')['empty']();for(var a2=0x0;a2<Z['length'];a2++){$('.wahlliste>form')['append']($('<input\x20type=\x27hidden\x27\x20name=\x27wahl['+a2+']\x27>')['val']($(Z[a2]['children']()[0x0])['val']()));console['log']('input\x20angehängt');}$('.wahlliste>form')['append']($('<input\x20type=\x27hidden\x27\x20name=\x27action\x27>')['val']('wahl'));$('.wahlliste>form')['submit']();}));}return;}function a3(a4){$(this)['on']('touchstart\x20touchmove\x20touchend',aB);$(this)['attr']('draggable','true');$(this)['on']('dragstart',ak);$(this)['on']('dragover',ai);$(this)['on']('drop',am);}function a5(a6){$(this)['on']('drop',ar);$(this)['on']('dragover',ai);}function a7(){V(L(0x32,0x46,0x14));projekte['forEach'](function(a8){R(a8);T(a8);});$('.card')['each'](a3);$('.wahlliste')['on']('drop',ap);$('.wahlliste')['on']('dragover',ai);$('.wahlliste\x20tbody>tr')['each'](a5);$('.projektliste')['on']('drop',at);$('.projektliste')['on']('dragover',ai);}function a9(aa,ab){console['log']('switch.....');var ac=-0x1,ad=-0x1;for(var ae=0x0;ae<$('.wahlliste\x20tbody>tr')['length'];ae++){if($('#wahl'+ae)['has'](aa)['length']||$('#wahl'+ae)['is'](aa)){ac=ae;}else if($('#wahl'+ae)['has'](ab)['length']||$('#wahl'+ae)['is'](ab)){ad=ae;}}if(!$(aa)['hasClass']('card')){aa=$(aa)['find']('div')[0x0];console['log']('ele1:\x20no\x20card');}if(!$(ab)['hasClass']('card')){ab=$(ab)['find']('div')[0x0];console['log']('ele2:\x20no\x20card');}if(aa==ab){console['log']('mit\x20sich\x20selbst\x20vertauscht....');return;}if(ac>-0x1&&ad>-0x1){if(typeof ab!=='undefined'){$('#wahl'+ac)['children']()[0x1]['append'](ab);}if(typeof aa!=='undefined'){$('#wahl'+ad)['children']()[0x1]['append'](aa);}}else if(ac>-0x1){$('#wahl'+ac)['children']()[0x1]['append'](ab);if(typeof aa!=='undefined'){$('.projektliste>div')['append'](aa);}}else if(ad>-0x1){$('#wahl'+ad)['children']()[0x1]['append'](aa);if(typeof ab!=='undefined'){$('.projektliste>div')['append'](ab);}}}function af(ag){for(var ah=$('.wahlliste\x20tbody>tr')['length']-0x1;ah>=0x0;ah--){if($('#wahl'+ah+'>td')['children']()['length']==0x0){$('#wahl'+ah+'>td')['append'](ag);}}}function ai(aj){aj['originalEvent']['stopPropagation']();aj['originalEvent']['preventDefault']();}function ak(al){al['originalEvent']['stopPropagation']();if(al['originalEvent']['dataTransfer']){al['originalEvent']['dataTransfer']['setData']('Text',this['id']);}else{console['log']('!!------------------------!!');console['log']('DataTransfer\x20is\x20missing!!');}}function am(an){ai(an);var ao=$('#'+an['originalEvent']['dataTransfer']['getData']('Text'))[0x0];console['log']('dropped\x20element\x20on\x20card');console['log'](an['originalEvent']['currentTarget']);if($('.wahlliste')['has'](an['originalEvent']['currentTarget'])['length']){console['log']('in\x20Wahlliste');a9(ao,an['originalEvent']['currentTarget']);}else{console['log']('in\x20Projektliste');$(an['originalEvent']['currentTarget'])['before'](ao);}Y();}function ap(aq){ai(aq);console['log']('dropped\x20element\x20on\x20wahlliste');console['log'](aq['originalEvent']['currentTarget']);af($('#'+aq['originalEvent']['dataTransfer']['getData']('Text')));Y();}function ar(as){ai(as);console['log']('dropped\x20element\x20on\x20tabelle');console['log'](as['originalEvent']['currentTarget']);a9($('#'+as['originalEvent']['dataTransfer']['getData']('Text'))[0x0],as['originalEvent']['currentTarget']);Y();}function at(au){ai(au);console['log']('dropped\x20element\x20on\x20projektliste');console['log'](au['originalEvent']['currentTarget']);$('.projektliste>div')['append']($('#'+au['originalEvent']['dataTransfer']['getData']('Text')));Y();}function av(aw){for(i=0x0;i<$('div.card')['length'];i++){if($('div.card')[i]==aw||$($('div.card')[i])['has'](aw)['length']){return $('div.card')[i];}}return null;}function ax(ay){for(i=0x0;i<projekte['length'];i++){if($('#drag'+projekte['projektId'])==$(ay)||$('#drag'+projekte['projektId'])['has'](ay)){return document['getElementById']('#drag'+projekte['projektId']);}}if($('.wahlliste')==$(ay)||$('.wahlliste')['has'](ay)){return document['getElementById']('wahlliste');}return document['getElementById']('projektliste');}function az(aA){switch(aA){case'touchstart':return'dragstart';case'touchmove':return'dragover';case'touchend':return'drop';default:return null;}}function aB(aC){if(aC['changedTouches']['length']!=0x1)return;var aD=aC['changedTouches'][0x0];var aE=av(aC['target']);if(!aE)return;if($(aE)['find']('a')[0x0]==aC['target'])return;$(aE)['css']({'top':aD['clientY']+0x5,'left':'calc('+aD['clientX']+'px\x20-\x207.5em)'});var aF=document['elementFromPoint'](aD['clientX'],aD['clientY']);var aG=ax(aF);var aH=az(aC['type']);if(aH==null)return;if(aH=='dragstart'||aH=='drop'){$(aE)['toggleClass']('ghost');}if(aH=='drop'){$(aE)['css']({'top':'','left':''});}var aI=new DataTransfer();aI['setData']('Text',aE['id']);aI['setDragImage'](aC['target'],aD['clientX'],aD['clientY']);var aJ=new DragEvent(aH,{'view':window,'bubbles':!![],'cancelable':!![],'screenX':aD['screenX'],'screenY':aD['screenY'],'clientX':aD['clientX'],'clientY':aD['clientY'],'dataTransfer':aI,'currentTarget':aG,'target':aF});if(aH=='drop'){aF['dispatchEvent'](aJ);}else{aE['dispatchEvent'](aJ);}aC['preventDefault']();}function aK(aL){return $('<div\x20class=\x22weekday\x22>\x0a\x20\x20<label>'+aL+'</label>\x0a\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22\x22>Vormittag</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22form-control\x22\x20id=\x22'+aL+'Vor\x22\x20placeholder=\x22\x22\x20required\x20rows=\x223\x22\x20name=\x22'+aL+'Vor\x22></textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22invalid-feedback\x22>\x0a\x20\x20\x20\x20\x20\x20Ungültige\x20Eingabe\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x0a\x20\x20<div\x20class=\x22form-check\x22>\x0a\x20\x20\x20\x20<input\x20class=\x22form-check-input\x22\x20type=\x22checkbox\x22\x20value=\x22ja\x22\x20checked\x20id=\x22'+aL+'Mensa\x22\x20name=\x22'+aL+'Mensa\x22>\x0a\x20\x20\x20\x20<label\x20class=\x22form-check-label\x22\x20for=\x22defaultCheck1\x22>\x0a\x20\x20\x20\x20\x20\x20Mensaessen\x20möglich\x0a\x20\x20\x20\x20</label>\x0a\x20\x20</div>\x0a\x0a\x20\x20<div\x20class=\x22form-group\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22\x22>Nachmittag</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22form-control\x22\x20id=\x22'+aL+'Nach\x22\x20placeholder=\x22\x22\x20required\x20rows=\x223\x22\x20name=\x22'+aL+'Nach\x22></textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22invalid-feedback\x22>\x0a\x20\x20\x20\x20\x20\x20Ungültige\x20Eingabe\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x0a</div>');}function aM(aN,aO){if(aN){$('#'+aO+'Vor')['prop']('disabled',!![]);$('#'+aO+'Vor')['addClass']('disabled');$('#'+aO+'Mensa')['prop']('disabled',!![]);$('#'+aO+'Mensa')['addClass']('disabled');$('#'+aO+'Nach')['prop']('disabled',!![]);$('#'+aO+'Nach')['addClass']('disabled');}}function h(){var aQ=['Montag','Dienstag','Mittwoch','Donnerstag','Freitag'];var aR=['mo','di','mi','do','fr'];for(var aS=0x0;aS<aR['length'];aS++){$('#weekdays')['append'](aK(aR[aS]));aM(!config[aQ[aS]],aR[aS]);}$('#frMensa')['prop']('checked',![]);$('#frMensa')['prop']('disabled',!![]);}function aT(){h();(function(){'use strict';window['addEventListener']('load',function(){var aU=document['getElementsByClassName']('needs-validation');var aV=Array['prototype']['filter']['call'](aU,function(aW){aW['addEventListener']('submit',function(aX){if(!aW['checkValidity']()||!aY()){aX['preventDefault']();aX['stopPropagation']();}aW['classList']['add']('was-validated');},![]);});},![]);}());}function check(){var aZ=parseInt($('#inputMinPlaetze')['val']())<=parseInt($('#inputMaxPlaetze')['val']());if(!aZ){alert('Mindestanzahl\x20der\x20Teilnehmerplätze\x20kann\x20nicht\x20größer\x20sein\x20als\x20die\x20die\x20Maximalanzahl!');}var b0=parseInt($('#inputMinKlasse')['val']())<=parseInt($('#inputMaxKlasse')['val']());if(!b0){alert('Mindeststufe\x20der\x20Klassenstufe\x20kann\x20nicht\x20größer\x20sein\x20als\x20die\x20die\x20Maximalstufe!');}return aZ&&b0;}
